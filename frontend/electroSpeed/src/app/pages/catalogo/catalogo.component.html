<div id="fondo">
    <div id="espacio"></div>
    <form (submit)="goToPage(1)">
        <div id="buscadorFiltro">
            <div class="filtro">
                <img width="25" height="25" src="https://img.icons8.com/ios/50/filter--v1.png" alt="filter--v1" (click)="toggleDropdown()"/>
                <div id="tiposFiltro" [class.show]="isDropdownVisible">
                    <a>Filtro:</a>
                    <div id="categoria">
                        <select id="categoriaSelect" [(ngModel)]="critero" [ngModelOptions]="{standalone: true}">
                            <option value="nombre">Nombre</option>
                            <option value="precio">Precio</option>
                        </select>
                    </div>
                    <div id="forma">
                        <select [(ngModel)]="orden" [ngModelOptions]="{standalone: true}">
                            <option value="asc">Ascendente</option>
                            <option value="desc">Descendente</option>
                        </select>
                    </div>
                    <select name="numeroProductos" id="numeroProductos" [(ngModel)]="cantidadProductos"
                        [ngModelOptions]="{standalone: true}">
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="15">15</option>
                        <option value="20">20</option>
                    </select>
                </div>
            </div>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Buscar..." [(ngModel)]="consulta" [ngModelOptions]="{standalone: true}">
                <button class="search-button" (click)="goToPage(1)">
                  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 50 50">
                    <path d="M 21 3 C 11.601563 3 4 10.601563 4 20 C 4 29.398438 11.601563 37 21 37 C 24.355469 37 27.460938 36.015625 30.09375 34.34375 L 42.375 46.625 L 46.625 42.375 L 34.5 30.28125 C 36.679688 27.421875 38 23.878906 38 20 C 38 10.601563 30.398438 3 21 3 Z M 21 7 C 28.199219 7 34 12.800781 34 20 C 34 27.199219 28.199219 33 21 33 C 13.800781 33 8 27.199219 8 20 C 8 12.800781 13.800781 7 21 7 Z"></path>
                  </svg>
                </button>
              </div>
        </div>
    </form>
    <br>
    <br>
    <br>
    <div class="containerCatalogo">
        <div class="catalogo">
            @for (item of biciFiltradasTotales; track $index)
            {
            <a href="detalle/{{item.id}}">
                <div class="bici">
                    <img src="{{item.urlImg}}">
                    <div class="bicicontent">
                        <h3>Model: {{item.marcaModelo}}</h3>
                        <br>
                        <h3>Precio: {{item.precio}}€</h3>
                        <br>
                        <h3>Stock:{{item.stock}}</h3>
                    </div>
                </div>
            </a>
            }
        </div>
        <br>
        <br>
        <br>
    </div>
    <div class="paginacion">
        @if (paginaActual != 1) {
        <button (click)="goPrevious()" style="margin-right: 20px;" class="button-85" role="button">Página
            anterior</button>
        }
        @for(item of createRange(paginasTotales); track item)
        {
        <button (click)="goToPage(item)" style="margin-right: 10px; margin-left: 10px;"
            [disabled]="paginaActual === item" class="button-85">{{item}}</button>
        }
        @if(paginaActual === 1 || paginaActual != paginasTotales){
        <button (click)="goNext()" style="margin-left: 20px;" class="button-85" role="button">Página siguiente</button>
        }
        <br>
        <br>
        <span style="color: black;" id="paginaActual">Página: {{ paginaActual }} de {{paginasTotales}}</span>
    </div>
    <br>
</div>